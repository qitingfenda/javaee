Java虚拟机对class文件采用的是按需加载的方式，也就是说当时需要使用该类时才会将它的class文件加载到内存生成class对象。
而且加载某个类的class文件时，Java虚拟机采用的是双亲委派模式，即把请求交给父类处理，它是一种任务委派模式。

工作原理：
1.如果一个类加载器收到了类加载请求，他并不会自己先去加载，而是把这个请求委托给父类的加载器去执行。
2.如果父类加载器还存在其父类加载器，则进一步向上委托，依次递归，请求最终将到达顶层的启动类加载器。
3.如果父类加载器可以完成类加载任务，就成功返回，倘若父类加载器无法完成此加载任务，子类加载器才会尝试自己去加载，这就是双亲委派模式。

优势：
避免类的重复加载
保护程序安全，防止核心API被随意篡改

沙箱安全机制
自定义String类，但是在加载自定义String类的时候会率先使用引导类加载器，而引导类加载器在加载的过程中会先加载jdk自带的文件
(rt.jar包中java\lang\String.class)，报错信息说没有main方法，就是因为加载的是rt.jar包中的String类。
这样可以保证对java核心源代码的保护，这就是沙箱安全机制。



